<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品详情页</title>
    <style>
        body {
            margin: 0;
            padding: 20px 16px 12px;
        }

        .article {
            display: none;
        }
        .article-load-err-msg {
            display: none;
            text-align: center;
            color: #999;
            font-size: 12px;
        }

        .full-text-area img{
            max-width: 100%;
        }
    </style>
</head>
<body>
    <div class="article">
        <h2 style="font-size:22px;color:#333;margin-bottom:14px;">——</h2>
        <div>
            <!-- 可能会有一些描述，比如作者、日期…… -->
        </div>
        <div class="full-text-area"></div>
    </div>
    <p class="article-load-err-msg"></p>

    <!-- 引入JQuery CDN -->
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>

        (()=>{
            let $articleContainer = $('.article');
            let $errMsg = $('.article-load-err-msg');

            // 判断JQuery加载成功否
            if(!$) {
                $articleContainer.hide();
                $errMsg.text('JQuery 加载失败！').show();
                return false;
            }


            // 请求文章数据
            let id = location.search.substr(1).split('&').find(v=>/id=/.test(v)).split('=')[1];
            id = '2936904c92d011eba1fc00163e046787';
            if(!id) {
                $articleContainer.hide();
                $errMs.text('该文章不存在！').show();
            }

            $.get({
                url: 'http://posapp.china-mail.com.cn/web/api/frame/cmsText//view/' + id,
                success,
                error: e=>{
                    console.error(e);
                }
            })

            /**
            * 请求成功回调
            */
            function success(res){
                if(res.code === 0){
                    $articleContainer.children('.full-text-area').html(res.data);
                    $articleContainer.show();
                }else{
                    $errMsg.text(res.msg).show();
                    $articleContainer.hide();
                }
            }
        })()
        
    </script>
</body>
</html>