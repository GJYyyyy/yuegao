(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-647bbb6e"],{"0a49":function(e,t,s){var r=s("9b43"),a=s("626a"),o=s("4bf8"),n=s("9def"),i=s("cd1c");e.exports=function(e,t){var s=1==e,u=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d,m=t||i;return function(t,i,p){for(var g,h,v=o(t),b=a(v),w=r(i,p,3),S=n(b.length),x=0,C=s?m(t,S):u?m(t,0):void 0;S>x;x++)if((f||x in b)&&(g=b[x],h=w(g,x,v),e))if(s)C[x]=h;else if(h)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:C.push(g)}else if(c)return!1;return d?-1:l||c?c:C}}},1169:function(e,t,s){var r=s("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"3f3e":function(e,t,s){"use strict";var r=s("6b5a"),a=s.n(r);a.a},"55f9":function(e,t,s){e.exports=s.p+"static/img/logo@3x.6a3d0a7a.png"},"6b5a":function(e,t,s){},7514:function(e,t,s){"use strict";var r=s("5ca1"),a=s("0a49")(5),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),r(r.P+r.F*n,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(o)},cd1c:function(e,t,s){var r=s("e853");e.exports=function(e,t){return new(r(e))(t)}},e2cb:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex-center flex-column",attrs:{id:"register"}},[e._m(0),s("van-form",{on:{submit:e._on_register}},[s("van-field",{attrs:{name:"账号",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.viewCode,callback:function(t){e.viewCode=t},expression:"viewCode"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.userPsw,callback:function(t){e.userPsw=t},expression:"userPsw"}}),s("van-field",{attrs:{type:"password",name:"重复密码",label:"重复密码",placeholder:"重复密码",rules:[{required:!0,message:"请再次填写密码"}]},model:{value:e.userPsw2,callback:function(t){e.userPsw2=t},expression:"userPsw2"}}),s("van-field",{attrs:{name:"姓名",label:"姓名",placeholder:"姓名",rules:[{required:!0,message:"请填写姓名"}]},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"手机号",rules:[{required:!0,message:"请填写手机号"}]},model:{value:e.userMobile,callback:function(t){e.userMobile=t},expression:"userMobile"}}),s("van-field",{attrs:{name:"推荐码",label:"推荐码",placeholder:"推荐码",rules:[{required:!0,message:"请填写推荐码"}]},model:{value:e.parentCode,callback:function(t){e.parentCode=t},expression:"parentCode"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"","native-type":"submit"}},[e._v("注册")])],1),s("div",{staticClass:"flex-between flex-vertical",staticStyle:{margin:"16px"}},[s("router-link",{staticStyle:{color:"#fff","font-size":"12px"},attrs:{to:"/myLogin"}},[e._v("已有账号")]),s("router-link",{staticStyle:{color:"#fff","font-size":"12px"},attrs:{to:"/forgetPswd"}},[e._v("找回密码")])],1)],1)],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-center",staticStyle:{width:"90%",height:"150px","margin-bottom":"24px"}},[r("img",{staticStyle:{"max-height":"100%"},attrs:{src:s("55f9"),alt:""}})])}],o=(s("7514"),s("28a5"),s("365c")),n={data:function(){return{viewCode:"",userName:"",userPsw:"",userPsw2:"",userMobile:"",parentCode:""}},created:function(){this.checkLogin()},mounted:function(){document.title="注册",this.getParentCodeFromUrl()},methods:{checkLogin:function(){var e=this,t=sessionStorage.getItem("token")||localStorage.getItem("token");t&&(sessionStorage.setItem("token",t),Object(o["Wb"])().then((function(t){0==t.code&&(sessionStorage.setItem("userId",t.data.userCode),sessionStorage.setItem("userShop",t.data.userShop),sessionStorage.setItem("shopCode",t.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(t.data.userHeader)),sessionStorage.setItem("userName",t.data.userName),sessionStorage.setItem("userName2",t.data.userName2||""),sessionStorage.setItem("userMobile2",t.data.userMobile2||""),e.$router.push("/"))})))},getParentCodeFromUrl:function(){var e=location.hash;if(e){var t=e.split("?")[1];if(t){var s=t.split("&");if(s.length){var r=s.find((function(e){return/parentCode/.test(e)}));r&&(this.parentCode=r.split("=")[1])}}}},_on_register:function(){var e=this,t=this.viewCode,s=this.userName,r=this.userMobile,a=this.userPsw,n=this.userPsw2,i=this.parentCode;a===n?Object(o["Ac"])({viewCode:t,userName:s,userMobile:r,userPsw:a,userPsw2:n,parentCode:i}).then((function(t){0===t.code?(sessionStorage.setItem("userId",t.data.userCode),sessionStorage.setItem("userShop",t.data.userShop),sessionStorage.setItem("shopCode",t.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(t.data.userHeader)),sessionStorage.setItem("userName",t.data.userName),sessionStorage.setItem("userName2",t.data.userName2||""),sessionStorage.setItem("userMobile2",t.data.userMobile2||""),e.$router.push("/"),e.$toast.success(t.msg)):e.$toast.fail(t.msg)})):this.$toast.fail("两次输入密码不一致！")}}},i=n,u=(s("3f3e"),s("2877")),l=Object(u["a"])(i,r,a,!1,null,null,null);t["default"]=l.exports},e853:function(e,t,s){var r=s("d3f4"),a=s("1169"),o=s("2b4c")("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}}}]);
//# sourceMappingURL=chunk-647bbb6e.21e364f0.js.map