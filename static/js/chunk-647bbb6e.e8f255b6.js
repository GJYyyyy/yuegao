(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-647bbb6e"],{"0a49":function(e,s,t){var r=t("9b43"),a=t("626a"),o=t("4bf8"),n=t("9def"),i=t("cd1c");e.exports=function(e,s){var t=1==e,u=2==e,l=3==e,c=4==e,d=6==e,m=5==e||d,f=s||i;return function(s,i,p){for(var h,v,g=o(s),b=a(g),w=r(i,p,3),x=n(b.length),N=0,S=t?f(s,x):u?f(s,0):void 0;x>N;N++)if((m||N in b)&&(h=b[N],v=w(h,N,g),e))if(t)S[N]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return N;case 2:S.push(h)}else if(c)return!1;return d?-1:l||c?c:S}}},1169:function(e,s,t){var r=t("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"3f3e":function(e,s,t){"use strict";var r=t("6b5a"),a=t.n(r);a.a},"55f9":function(e,s,t){e.exports=t.p+"static/img/logo@3x.6a3d0a7a.png"},"6b5a":function(e,s,t){},7514:function(e,s,t){"use strict";var r=t("5ca1"),a=t("0a49")(5),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),r(r.P+r.F*n,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),t("9c6c")(o)},cd1c:function(e,s,t){var r=t("e853");e.exports=function(e,s){return new(r(e))(s)}},e2cb:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"flex-center flex-column",attrs:{id:"register"}},[e._m(0),t("van-form",{on:{submit:e._on_register}},[t("van-field",{attrs:{name:"账号",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.viewCode,callback:function(s){e.viewCode=s},expression:"viewCode"}}),t("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.userPsw,callback:function(s){e.userPsw=s},expression:"userPsw"}}),t("van-field",{attrs:{type:"password",name:"重复密码",label:"重复密码",placeholder:"重复密码",rules:[{required:!0,message:"请再次填写密码"}]},model:{value:e.userPsw2,callback:function(s){e.userPsw2=s},expression:"userPsw2"}}),t("van-field",{attrs:{type:"password",name:"支付密码",label:"支付密码",placeholder:"支付密码",rules:[{required:!0,message:"请填写支付密码"}]},model:{value:e.userNameEn,callback:function(s){e.userNameEn=s},expression:"userNameEn"}}),t("van-field",{attrs:{type:"password",name:"重复支付密码",label:"重复支付密码",placeholder:"重复支付密码",rules:[{required:!0,message:"请再次填写支付密码"}]},model:{value:e.userNameEn2,callback:function(s){e.userNameEn2=s},expression:"userNameEn2"}}),t("van-field",{attrs:{name:"姓名",label:"姓名",placeholder:"姓名",rules:[{required:!0,message:"请填写姓名"}]},model:{value:e.userName,callback:function(s){e.userName=s},expression:"userName"}}),t("van-field",{attrs:{name:"手机号",label:"手机号",placeholder:"手机号",rules:[{required:!0,message:"请填写手机号"}]},model:{value:e.userMobile,callback:function(s){e.userMobile=s},expression:"userMobile"}}),t("van-field",{attrs:{name:"推荐码",label:"推荐码",placeholder:"推荐码",rules:[{required:!0,message:"请填写推荐码"}]},model:{value:e.parentCode,callback:function(s){e.parentCode=s},expression:"parentCode"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"","native-type":"submit"}},[e._v("注册")])],1),t("div",{staticClass:"flex-between flex-vertical",staticStyle:{margin:"16px"}},[t("router-link",{staticStyle:{color:"#fff","font-size":"12px"},attrs:{to:"/myLogin"}},[e._v("已有账号")]),t("router-link",{staticStyle:{color:"#fff","font-size":"12px"},attrs:{to:"/forgetPswd"}},[e._v("找回密码")])],1)],1)],1)},a=[function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"flex-center",staticStyle:{width:"90%",height:"150px","margin-bottom":"24px"}},[r("img",{staticStyle:{"max-height":"100%"},attrs:{src:t("55f9"),alt:""}})])}],o=(t("7514"),t("28a5"),t("365c")),n={data:function(){return{viewCode:"",userName:"",userPsw:"",userPsw2:"",userNameEn:"",userNameEn2:"",userMobile:"",parentCode:""}},created:function(){this.checkLogin()},mounted:function(){document.title="注册",this.getParentCodeFromUrl()},methods:{checkLogin:function(){var e=this,s=sessionStorage.getItem("token")||localStorage.getItem("token");s&&(sessionStorage.setItem("token",s),Object(o["cc"])().then((function(s){0==s.code&&(sessionStorage.setItem("userId",s.data.userCode),sessionStorage.setItem("userShop",s.data.userShop),sessionStorage.setItem("shopCode",s.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(s.data.userHeader)),sessionStorage.setItem("userName",s.data.userName),sessionStorage.setItem("userName2",s.data.userName2||""),sessionStorage.setItem("userMobile2",s.data.userMobile2||""),e.$router.push("/"))})))},getParentCodeFromUrl:function(){var e=location.hash;if(e){var s=e.split("?")[1];if(s){var t=s.split("&");if(t.length){var r=t.find((function(e){return/parentCode/.test(e)}));r&&(this.parentCode=r.split("=")[1])}}}},_on_register:function(){var e=this,s=this.viewCode,t=this.userName,r=this.userMobile,a=this.userPsw,n=this.userPsw2,i=this.parentCode,u=this.userNameEn,l=this.userNameEn2;a===n?u===l?Object(o["Nc"])({viewCode:s,userName:t,userMobile:r,userPsw:a,userPsw2:n,userNameEn:u,userNameEn2:l,parentCode:i}).then((function(s){0===s.code?(sessionStorage.setItem("userId",s.data.userCode),sessionStorage.setItem("userShop",s.data.userShop),sessionStorage.setItem("shopCode",s.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(s.data.userHeader)),sessionStorage.setItem("userName",s.data.userName),sessionStorage.setItem("userName2",s.data.userName2||""),sessionStorage.setItem("userMobile2",s.data.userMobile2||""),e.$router.push("/"),e.$toast.success(s.msg)):e.$toast.fail(s.msg)})):this.$toast.fail("两次输入支付密码不一致！"):this.$toast.fail("两次输入密码不一致！")}}},i=n,u=(t("3f3e"),t("2877")),l=Object(u["a"])(i,r,a,!1,null,null,null);s["default"]=l.exports},e853:function(e,s,t){var r=t("d3f4"),a=t("1169"),o=t("2b4c")("species");e.exports=function(e){var s;return a(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)||(s=void 0),r(s)&&(s=s[o],null===s&&(s=void 0))),void 0===s?Array:s}}}]);
//# sourceMappingURL=chunk-647bbb6e.e8f255b6.js.map