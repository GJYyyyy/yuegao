{"version":3,"sources":["webpack:///./src/views/beautySalonMall/goodsClassify.vue?de1e","webpack:///./src/views/beautySalonMall/goodsClassify.vue?f051","webpack:///src/views/beautySalonMall/goodsClassify.vue","webpack:///./src/views/beautySalonMall/goodsClassify.vue?0069","webpack:///./src/views/beautySalonMall/goodsClassify.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","_get_goods_list","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","keyWord","expression","staticClass","activeClassifyIndex","_l","item","index","cateName","$event","goDetail","$utils","dealImg","gimg","_s","gname","gfanj","_e","goutPrice","toFixed","gmarketPrice","staticRenderFns","data","goodsClassifyList","goodsList","computed","currCateCode","cateCode","mounted","document","title","loadData","methods","$router","push","name","query","viewName","pageNum","pageSize","console","log","res","component"],"mappings":"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","file":"static/js/chunk-259a977c.5de92f59.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsClassify.vue?vue&type=style&index=0&id=9a5e0b04&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsClassify.vue?vue&type=style&index=0&id=9a5e0b04&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\",\"show-action\":\"\"},on:{\"search\":_vm._get_goods_list},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('div',{on:{\"click\":_vm._get_goods_list}},[_vm._v(\"搜索\")])]},proxy:true}]),model:{value:(_vm.keyWord),callback:function ($$v) {_vm.keyWord=$$v},expression:\"keyWord\"}}),_c('div',{staticClass:\"flex-between\",staticStyle:{\"height\":\"calc(100% - 54px)\"}},[_c('div',{staticStyle:{\"overflow-y\":\"auto\",\"background-color\":\"#f7f8fa\"}},[_c('van-sidebar',{on:{\"change\":_vm._get_goods_list},model:{value:(_vm.activeClassifyIndex),callback:function ($$v) {_vm.activeClassifyIndex=$$v},expression:\"activeClassifyIndex\"}},_vm._l((_vm.goodsClassifyList),function(item,index){return _c('van-sidebar-item',{key:index,attrs:{\"title\":item.cateName}})}),1)],1),_c('div',{staticStyle:{\"width\":\"calc(100% - 80px)\",\"background-color\":\"#f9f9f9\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"list\"},_vm._l((_vm.goodsList),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.goDetail(item)}}},[_c('div',{staticClass:\"topImage\"},[_c('img',{attrs:{\"src\":_vm.$utils.dealImg(item.gimg),\"alt\":\"\"}})]),_c('div',{staticClass:\"bottomText\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.gname))]),_c('div',{staticClass:\"labels\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"数量有限买完为止\")]),(item.gfanj)?_c('div',{staticClass:\"label\"},[_vm._v(\"送\"+_vm._s(item.gfanj)+\"积分\")]):_vm._e()]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"price1\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"优惠价\")]),_c('span',{staticClass:\"font\"},[_vm._v(\"¥\")]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.goutPrice?item.goutPrice.toFixed(2):'0.00'))])]),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"市场价\")]),_c('span',{staticClass:\"font\"},[_vm._v(\"¥\")]),_c('span',{staticClass:\"num\"},[_c('del',[_vm._v(_vm._s(item.gmarketPrice?item.gmarketPrice.toFixed(2):'0.00'))])])])])])])])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"height:100%;\">\r\n    <van-search v-model=\"keyWord\" placeholder=\"请输入搜索关键词\" show-action @search=\"_get_goods_list\">\r\n      <template #action>\r\n        <div @click=\"_get_goods_list\">搜索</div>\r\n      </template>\r\n    </van-search>\r\n    <div class=\"flex-between\" style=\"height:calc(100% - 54px);\">\r\n      <div style=\"overflow-y:auto;background-color:#f7f8fa;\">\r\n        <van-sidebar v-model=\"activeClassifyIndex\" @change=\"_get_goods_list\">\r\n          <van-sidebar-item v-for=\"item,index in goodsClassifyList\" :key=\"index\" :title=\"item.cateName\" />\r\n        </van-sidebar>\r\n      </div>\r\n      <div style=\"width:calc(100% - 80px);background-color:#f9f9f9;overflow-y:auto;\">\r\n        <div class=\"list\">\r\n          <div class=\"item\" v-for=\"(item,index) in goodsList\" :key=\"index\" @click=\"goDetail(item)\">\r\n            <div class=\"topImage\">\r\n            <img :src=\"$utils.dealImg(item.gimg)\" alt />\r\n            </div>\r\n            <div class=\"bottomText\">\r\n              <p class=\"title\">{{item.gname}}</p>\r\n              <div class=\"labels\">\r\n                <div class=\"label\">数量有限买完为止</div>\r\n                <div class=\"label\" v-if=\"item.gfanj\">送{{item.gfanj}}积分</div>\r\n              </div>\r\n              <div class=\"bottom\">\r\n                <div class=\"left\">\r\n                   <div class=\"price1\">\r\n                    <span class=\"label\">优惠价</span>\r\n                    <span class=\"font\">¥</span>\r\n                    <span class=\"num\">{{item.goutPrice?item.goutPrice.toFixed(2):'0.00'}}</span>\r\n                  </div>\r\n                  <div class=\"price\">\r\n                    <span class=\"label\">市场价</span>\r\n                    <span class=\"font\">¥</span>\r\n                    <span class=\"num\">\r\n                      <del>{{item.gmarketPrice?item.gmarketPrice.toFixed(2):'0.00'}}</del>\r\n                    </span>\r\n                  </div>\r\n                 </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getIndexMenu, getIndexGoodsList } from '@/api';\r\nexport default {\r\n  data: ()=>{\r\n    return {\r\n      activeClassifyIndex: 0,\r\n      goodsClassifyList: [],\r\n      goodsList: [],\r\n      keyWord: ''\r\n    }\r\n  },\r\n  computed: {\r\n    currCateCode: function(){\r\n      return this.goodsClassifyList[this.activeClassifyIndex].cateCode;\r\n    }\r\n  },\r\n  mounted(){\r\n    document.title = '商品分类';\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n    async loadData(){\r\n      let indexMenu = await getIndexMenu();\r\n\r\n      if(indexMenu.code === 0){\r\n        console.log(indexMenu);\r\n        if(indexMenu.data){\r\n          this.goodsClassifyList = indexMenu.data;\r\n          this._get_goods_list();\r\n        };\r\n      }else{\r\n        this.$toast.fail(indexMenu.msg);\r\n      }\r\n    },\r\n    goDetail(item) {\r\n      this.$router.push({\r\n        name: \"goodsDetail\",\r\n        query: { id: item.gcode, title: item.gname },\r\n      });\r\n    },\r\n    _get_goods_list(){\r\n      let dataObj = {\r\n        cateCode: this.currCateCode,\r\n        viewName: this.keyWord,\r\n        pageNum: 1,\r\n        pageSize: 1000,\r\n      };\r\n      getIndexGoodsList(dataObj).then(res=>{\r\n        if(res.code === 0){\r\n          console.log(res);\r\n          if(res.data) this.goodsList = res.data.list;\r\n        }else{\r\n          this.$toast.fail(res.msg);\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .flex-between {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .list {\r\n      padding: 10px;\r\n      overflow: hidden;\r\n      .item {\r\n        border-bottom: 1px solid #eee;\r\n        padding: 5px 0;\r\n        align-items: flex-start;\r\n        min-height: 120px;\r\n        display: flex;\r\n        .topImage {\r\n          display: inline-block;\r\n          img {\r\n            width: 110px;\r\n            height:100%;\r\n            // height: calc(120px / 1.316);\r\n          }\r\n        }\r\n        .bottomText {\r\n          display: inline-block;\r\n          .title {\r\n            margin-left: 15px;\r\n            padding-bottom:5px;\r\n            font-size: 18px;\r\n            line-height: 18px;\r\n            max-height: 50px; \r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 2;\r\n            overflow: hidden;\r\n            color: #333;\r\n          }\r\n          .labels {\r\n            margin-left: 15px;\r\n            margin-top: 10px;\r\n            .label {\r\n              display: inline-block;\r\n              font-size: 11px;\r\n              margin-right: 10px;\r\n              padding: 3px 8px;\r\n              border-radius: 5px;\r\n              border: 1pt solid #f70707;;\r\n              color: #f70707;\r\n            }\r\n          }\r\n          .bottom {\r\n            color: $base-color;\r\n            font-size: 12px;\r\n            line-height: 30px;\r\n            width: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            margin: 2px 0 0;\r\n            padding-top: 10px;\r\n            .left {\r\n              margin-top: -6px;\r\n              display: flex;\r\n           \r\n            .line{\r\n              margin-top: 18px;\r\n              //margin-left: 6px;\r\n              width:93vw;\r\n            }\r\n            .price {\r\n              display: inline-block;\r\n              padding-left: 5px;\r\n              \r\n              .label {\r\n                font-size: 10px;\r\n                 color: #000000;\r\n                background: #dae6fd;\r\n                padding: 3px 5px;\r\n                border-radius: 5px;\r\n                margin-right: 5px;\r\n                box-sizing: border-box;\r\n                border:0;\r\n              }\r\n              .font {\r\n                font-size: 10px;\r\n                 color: #333;\r\n                margin-right: 3px;\r\n              }\r\n              .num {\r\n                font-weight: bold;\r\n                font-size: 12px;\r\n                color: #333;\r\n              }\r\n            }\r\n            .price1 {\r\n              display: inline-block;\r\n              margin-left: 15px;\r\n              .label {\r\n                font-size: 10px;\r\n               color: #f70707;\r\n                border: 1pt solid #f70707;\r\n                padding: 3px 5px;\r\n                border-radius: 5px;\r\n                margin-right: 5px;\r\n                box-sizing: border-box;\r\n              }\r\n              .font {\r\n                font-size: 12px;\r\n               color: #f70707;\r\n              }\r\n              .num {\r\n                font-weight: bold;\r\n                font-size: 12px;\r\n               color: #f70707;\r\n              }\r\n            } }\r\n          }\r\n        }\r\n      }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsClassify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsClassify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goodsClassify.vue?vue&type=template&id=9a5e0b04&scoped=true&\"\nimport script from \"./goodsClassify.vue?vue&type=script&lang=js&\"\nexport * from \"./goodsClassify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goodsClassify.vue?vue&type=style&index=0&id=9a5e0b04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a5e0b04\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}