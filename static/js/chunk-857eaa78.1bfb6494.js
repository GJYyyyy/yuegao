(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-857eaa78"],{"16d8":function(t,e,a){},"29aa":function(t,e,a){t.exports=a.p+"static/img/edit.6f718fb8.png"},"4ec7":function(t,e,a){},"74ba":function(t,e,a){"use strict";var s=a("4ec7"),o=a.n(s);o.a},"92e6":function(t,e){t.exports="data:image/png;base64,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"},cc33:function(t,e,a){"use strict";var s=a("16d8"),o=a.n(s);o.a},f5d8:function(t,e,a){"use strict";a.r(e);var s,o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"management mescroll"},[s("div",{staticClass:"mid"},[s("div",{staticClass:"headPic"},[s("img",{staticClass:"pic",attrs:{src:t.shopDetail.shopHeader?t.$utils.dealImg(t.shopDetail.shopHeader):a("164d"),alt:""}}),s("img",{staticClass:"icon",attrs:{src:a("29aa"),alt:""},on:{click:function(e){return t.upload("2")}}}),s("input",{ref:"upload2",staticClass:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.chooseUpload}})]),s("van-cell-group",[s("van-field",{attrs:{"input-align":"right",clearable:"",label:"商户名",placeholder:"请输入您的店名"},on:{blur:function(e){return t.blur()}},model:{value:t.shopDetail.shopName,callback:function(e){t.$set(t.shopDetail,"shopName",e)},expression:"shopDetail.shopName"}}),s("van-field",{attrs:{"input-align":"right",clearable:"",type:"number",label:"联系电话",placeholder:"请输入您的客服电话"},on:{blur:function(e){return t.blur()}},model:{value:t.shopDetail.shopMobile,callback:function(e){t.$set(t.shopDetail,"shopMobile",e)},expression:"shopDetail.shopMobile"}}),s("van-cell",{attrs:{title:"所在地区","is-link":"",value:t.shopDetail.areaName||"请选择您所在的省市区"},on:{click:function(e){t.showAddress=!0}}}),s("van-field",{attrs:{autosize:"",rows:2,"input-align":"right",label:"详细地址",placeholder:"请输入您的店址",type:"textarea",clearable:"",maxlength:"50","show-word-limit":""},on:{blur:function(e){return t.blur()}},model:{value:t.shopDetail.shopAddr,callback:function(e){t.$set(t.shopDetail,"shopAddr",e)},expression:"shopDetail.shopAddr"}}),s("van-field",{attrs:{autosize:"",rows:2,"input-align":"right",label:"简介",placeholder:"请输入50字以内的简介",type:"textarea",clearable:"",maxlength:"50","show-word-limit":""},on:{blur:function(e){return t.blur()}},model:{value:t.shopDetail.shopDes,callback:function(e){t.$set(t.shopDetail,"shopDes",e)},expression:"shopDetail.shopDes"}}),s("div",[s("van-cell",{on:{click:function(e){return t.upload("1")}}},[s("template",{slot:"title"},[s("span",{staticClass:"custom-text"},[t._v("详细介绍")])]),s("div",{staticClass:"content"},[s("p",[t._v("请上传您的店铺宣传照片")]),s("img",{staticClass:"icon",attrs:{src:a("92e6"),alt:""}}),s("input",{ref:"upload1",staticClass:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.chooseUpload}})])],2),t.picList.length?s("div",{staticClass:"filesList"},t._l(t.picList,(function(e,a){return s("div",{key:a,staticClass:"filesItem"},[s("img",{attrs:{src:t.$utils.dealImg(e),alt:""}}),s("span",{staticClass:"del",on:{click:function(e){return t.delImg(a)}}},[t._v("×")])])})),0):t._e()],1)],1),s("div",{staticClass:"submit-wrap"},[s("div",{staticClass:"submit",on:{click:function(e){return t.submit()}}},[t._v("提交")])])],1),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showAddress,callback:function(e){t.showAddress=e},expression:"showAddress"}},[s("van-area",{attrs:{"area-list":t.areaList,value:t.shopDetail.areaCode},on:{confirm:t.areaConfirm,cancel:function(e){t.showAddress=!1}}})],1)],1)},i=[],n=(a("a481"),a("34ef"),a("4917"),a("28a5"),a("53ca")),l=a("ade3"),c=(a("db2c"),a("1125")),r=(a("8a58"),a("e41f")),h=(a("be7f"),a("565f")),p=(a("c194"),a("7744")),d=(a("7f7f"),a("0653"),a("34e9")),u=a("42df"),f=a("365c"),m={components:(s={},Object(l["a"])(s,d["a"].name,d["a"]),Object(l["a"])(s,p["a"].name,p["a"]),Object(l["a"])(s,h["a"].name,h["a"]),Object(l["a"])(s,r["a"].name,r["a"]),Object(l["a"])(s,c["a"].name,c["a"]),s),data:function(){return{shopDetail:{shopHeader:"",shopName:"",shopMobile:"",areaName:"",areaCode:"",shopMsg:"",shopAddr:"",shopDes:""},type:"",areaName:"",areaList:u["a"],showAddress:!1,provinceId:"",cityId:"",countyId:"",address:"",picList:[]}},methods:{blur:function(){document.body.scrollTop=0},areaConfirm:function(t){console.log(t),this.showAddress=!1,this.shopDetail.areaName="".concat(t[0].name,"/").concat(t[1].name,"/").concat(t[2].name),this.shopDetail.areaCode=t[2].code},delImg:function(t){this.picList.splice(t,1)},upload:function(t){this.type=t,1==this.type&&this.picList.length>5?this.$toast("最多只能上传5张图片"):this.$refs["upload"+this.type].click()},chooseUpload:function(t){var e=this,a=this,s=(new FormData,t.target.files),o=new FileReader;if(!(s.length<1)){this.loading=this.$toast.loading({duration:0,forbidClick:!0,message:"加载中..."});for(var i=function(t){console.log(s[t]);var i=s[t].size/1024/1024;if(i>100)return e.$toast.fail("文件大于100M"),{v:void 0};o.readAsDataURL(s[t]),o.onload=function(){var e=this.result,o=new Image;o.src=e,o.onload=function(){a.compressEvent(o,i,(function(e){a.uploadImg(e,s[t],t,s.length)}))}}},l=0;l<s.length;l++){var c=i(l);if("object"===Object(n["a"])(c))return c.v}}},compressEvent:function(t,e,a){var s=document.createElement("canvas"),o=s.getContext("2d"),i=(t.src.length,t.width),n=t.height;s.width=i,s.height=n,o.drawImage(t,0,0,i,n);var l=s.toDataURL("image/jpeg",e>1?.1:1);a&&a(l)},getPixelRatio:function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},dataURItoBlob:function(t){var e=t.split(","),a=e[0].match(/:(.*?);/)[1],s=atob(e[1]),o=s.length,i=new Uint8Array(o);while(o--)i[o]=s.charCodeAt(o);return new Blob([i],{type:a})},uploadImg:function(t,e,a,s){var o=this,i=this.dataURItoBlob(t),n=new FormData,l={headers:{"Content-Type":"multipart/form-data"}};n.append("file",i,e.name),n.append("path",1),this.$axios.post(this.$config.host+"/shichuang/frame/shop/upload/pic",n,l).then((function(t){a+1==s&&o.loading.clear(),console.log(t),0==t.code?"1"==o.type?o.picList.push(t.data.filePath):o.shopDetail.shopHeader=t.data.filePath:o.$toast.fail("图片上传失败！")})).catch((function(t){o.$toast.clear(),console.log(t),o.$toast.fail("网络错误")}))},submit:function(){var t=this;if(this.shopDetail.shopName)if(this.shopDetail.shopMobile)if(this.$utils.isMobile(this.shopDetail.shopMobile))if(this.shopDetail.areaCode)if(this.shopDetail.shopAddr){var e=this.$toast.loading({duration:0,forbidClick:!0}),a={shopHeader:this.shopDetail.shopHeader,shopName:this.shopDetail.shopName,shopMobile:this.shopDetail.shopMobile,areaCode:this.shopDetail.areaCode,shopAddr:this.shopDetail.shopAddr,shopDes:this.shopDetail.shopDes,shopMsg:this.picList.join(",")};"1"==this.$route.query.type?Object(f["Kc"])(a).then((function(a){e.clear(),0==a.code?(t.$toast("新增成功"),setTimeout((function(){t.$router.replace({name:"merchantsCenter"})}))):t.$toast(a.msg)})):Object(f["Jc"])(a).then((function(a){e.clear(),0==a.code?(t.$toast("修改成功"),setTimeout((function(){t.$router.back()}))):t.$toast(a.msg)}))}else this.$toast("请输入详细地址");else this.$toast("请选择所在地区");else this.$toast("手机号码格式不正确");else this.$toast("请输入联系电话");else this.$toast("请输入商户名")},loadData:function(){var t=this,e=this.$toast.loading({duration:0,forbidClick:!0});Object(f["Eb"])().then((function(a){e.clear(),0==a.code?t.shopDetail={shopHeader:a.data.shop.shopHeader,shopName:a.data.shop.shopName,shopMobile:a.data.shop.shopMobile,areaName:a.data.shop.areaName,areaCode:a.data.shop.areaCode,shopMsg:a.data.shop.shopMsg,shopAddr:a.data.shop.shopAddr,shopDes:a.data.shop.shopDes}:t.$toast(a.msg)}))}},mounted:function(){this.$route.query.type?document.title="我要入驻":this.loadData()}},g=m,b=(a("cc33"),a("74ba"),a("2877")),A=Object(b["a"])(g,o,i,!1,null,"10b4cbd9",null);e["default"]=A.exports}}]);
//# sourceMappingURL=chunk-857eaa78.1bfb6494.js.map