{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/views/beautySalonMall/otc.vue?3553","webpack:///src/views/beautySalonMall/otc.vue","webpack:///./src/views/beautySalonMall/otc.vue?0ec2","webpack:///./src/views/beautySalonMall/otc.vue","webpack:///./src/views/beautySalonMall/otc.vue?3435","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","$export","$find","KEY","forced","P","F","find","this","arguments","render","_vm","_h","$createElement","_c","_self","on","_tab_change","model","value","callback","$$v","tabIndex","expression","_l","tab","key","attrs","staticStyle","_m","OTC","OTCIndex","staticClass","_v","_s","userName","otcPrice","createTime","e","_receive_order","otcCode","OTCList","_e","_open_sell_modal","sellModalVisible","_submit_sell","Hongbao","Tongzheng","scopedSlots","_u","fn","sellForm","$set","proxy","require","validator","_inspect_sell_price_max","message","sellMaxPrice","required","staticRenderFns","component","speciesConstructor","original","isObject","SPECIES","C","constructor","prototype"],"mappings":"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","file":"static/js/chunk-49e46421.9e9b57e4.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-tabs',{on:{\"change\":_vm._tab_change},model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.tabs),function(tab,index){return _c('van-tab',{key:index,attrs:{\"title\":tab}})}),1),_c('ul',{staticStyle:{\"background-color\":\"#fff\",\"border-top\":\"1px solid #eee\"}},[_vm._m(0),_vm._l((_vm.OTCList),function(OTC,OTCIndex){return _c('li',{key:OTCIndex,staticClass:\"flex-between flex-vertical\",staticStyle:{\"border-bottom\":\"1px solid #eee\",\"color\":\"#666\"}},[_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(_vm._s(OTC.userName))]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(_vm._s(OTC.otcPrice))]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(_vm._s(OTC.createTime))]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_c('button',{on:{\"click\":function (e){ return _vm._receive_order(e,OTC.otcCode); }}},[_vm._v(\"接单\")])])])})],2),(_vm.OTCList.length === 0)?_c('p',{staticClass:\"flex-center\",staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\",\"height\":\"30px\"}},[_vm._v(\"没有数据\")]):_vm._e(),_c('button',{staticClass:\"flex-center\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"10\",\"right\":\"16px\",\"bottom\":\"110px\",\"width\":\"58px\",\"height\":\"58px\",\"border-radius\":\"50%\",\"background-color\":\"#2ba06a\",\"border\":\"none\",\"color\":\"#fff\",\"opacity\":\".8\",\"box-shadow\":\"1px 1px 3px 3px #ccc\"},on:{\"click\":_vm._open_sell_modal}},[_vm._v(\"\\n      挂 卖\\n  \")]),_c('van-popup',{staticStyle:{\"width\":\"90%\"},attrs:{\"round\":\"\"},model:{value:(_vm.sellModalVisible),callback:function ($$v) {_vm.sellModalVisible=$$v},expression:\"sellModalVisible\"}},[_c('p',{staticClass:\"flex-center\",staticStyle:{\"height\":\"60px\",\"font-size\":\"16px\",\"font-weight\":\"700\"}},[_vm._v(\"挂卖\")]),_c('van-form',{on:{\"submit\":_vm._submit_sell}},[_c('van-field',{attrs:{\"label\":\"红包余额\",\"value\":_vm.Hongbao + '元',\"readonly\":\"\"}}),_c('van-field',{attrs:{\"label\":\"通证余额\",\"value\":_vm.Tongzheng + '元',\"readonly\":\"\"}}),_c('van-field',{attrs:{\"name\":\"radio\",\"label\":\"挂卖类型\"},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-radio-group',{attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.sellForm.otcType),callback:function ($$v) {_vm.$set(_vm.sellForm, \"otcType\", $$v)},expression:\"sellForm.otcType\"}},[_c('van-radio',{attrs:{\"name\":1}},[_vm._v(\"红包\")]),_c('van-radio',{attrs:{\"name\":2}},[_vm._v(\"通证\")])],1)]},proxy:true}])}),_c('van-field',{attrs:{\"name\":\"stepper\",\"label\":\"挂卖金额\",\"rules\":[{ require: true, validator: _vm._inspect_sell_price_max, message: '挂卖金额不能大于红包余额或通证余额！' }]},scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('van-stepper',{attrs:{\"step\":100,\"min\":100,\"max\":_vm.sellMaxPrice,\"disable-input\":\"\"},model:{value:(_vm.sellForm.otcPrice),callback:function ($$v) {_vm.$set(_vm.sellForm, \"otcPrice\", $$v)},expression:\"sellForm.otcPrice\"}})]},proxy:true}])}),_c('van-field',{attrs:{\"label\":\"支付密码\",\"placeholder\":\"请输入支付密码\",\"rules\":[{ required: true, message: '请输入支付密码' }]},model:{value:(_vm.sellForm.userEnName),callback:function ($$v) {_vm.$set(_vm.sellForm, \"userEnName\", $$v)},expression:\"sellForm.userEnName\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"flex-between flex-vertical\",staticStyle:{\"border-bottom\":\"1px solid #eee\"}},[_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(\"姓名\")]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(\"金额\")]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(\"时间\")]),_c('span',{staticClass:\"otc-item-field flex-center\"},[_vm._v(\"操作\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-tabs v-model=\"tabIndex\" @change=\"_tab_change\">\r\n        <van-tab\r\n            v-for=\"(tab,index) in tabs\"\r\n            :key=\"index\"\r\n            :title=\"tab\"\r\n        ></van-tab>\r\n    </van-tabs>\r\n    \r\n    <ul style=\"background-color: #fff;border-top: 1px solid #eee;\">\r\n        <li class=\"flex-between flex-vertical\" style=\"border-bottom:1px solid #eee;\">\r\n            <span class=\"otc-item-field flex-center\">姓名</span>\r\n            <span class=\"otc-item-field flex-center\">金额</span>\r\n            <span class=\"otc-item-field flex-center\">时间</span>\r\n            <span class=\"otc-item-field flex-center\">操作</span>\r\n        </li>\r\n        <li\r\n            v-for=\"(OTC,OTCIndex) in OTCList\"\r\n            :key=\"OTCIndex\"\r\n            class=\"flex-between flex-vertical\"\r\n            style=\"border-bottom:1px solid #eee;color:#666;\"\r\n        >\r\n            <span class=\"otc-item-field flex-center\">{{OTC.userName}}</span>\r\n            <span class=\"otc-item-field flex-center\">{{OTC.otcPrice}}</span>\r\n            <span class=\"otc-item-field flex-center\">{{OTC.createTime}}</span>\r\n            <span class=\"otc-item-field flex-center\">\r\n                <button @click=\"e=>_receive_order(e,OTC.otcCode)\">接单</button>\r\n            </span>\r\n        </li>\r\n    </ul>\r\n    <p v-if=\"OTCList.length === 0\" class=\"flex-center\" style=\"font-size:12px;color:#999;height:30px;\">没有数据</p>\r\n\r\n    <!-- 挂卖按钮 -->\r\n    <button\r\n        class=\"flex-center\"\r\n        style=\"position:fixed;z-index:10;right:16px;bottom:110px;width:58px;height:58px;border-radius:50%;background-color:#2ba06a;border:none;color:#fff;opacity:.8;box-shadow:1px 1px 3px 3px #ccc;\"\r\n        @click=\"_open_sell_modal\"\r\n    >\r\n        挂 卖\r\n    </button>\r\n\r\n    <!-- 挂卖模态框 -->\r\n    <van-popup v-model=\"sellModalVisible\" round style=\"width:90%;\">\r\n        <p class=\"flex-center\" style=\"height:60px;font-size:16px;font-weight:700;\">挂卖</p>\r\n        <van-form @submit=\"_submit_sell\">\r\n            <van-field label=\"红包余额\" :value=\"Hongbao + '元'\" readonly />\r\n            <van-field label=\"通证余额\" :value=\"Tongzheng + '元'\" readonly />\r\n            <van-field name=\"radio\" label=\"挂卖类型\">\r\n                <template #input>\r\n                    <van-radio-group v-model=\"sellForm.otcType\" direction=\"horizontal\">\r\n                    <van-radio :name=\"1\">红包</van-radio>\r\n                    <van-radio :name=\"2\">通证</van-radio>\r\n                    </van-radio-group>\r\n                </template>\r\n            </van-field>\r\n            <van-field\r\n                name=\"stepper\"\r\n                label=\"挂卖金额\"\r\n                :rules=\"[{ require: true, validator: _inspect_sell_price_max, message: '挂卖金额不能大于红包余额或通证余额！' }]\"\r\n            >\r\n                <template #input>\r\n                    <van-stepper\r\n                        v-model=\"sellForm.otcPrice\"\r\n                        :step=\"100\"\r\n                        :min=\"100\"\r\n                        :max=\"sellMaxPrice\"\r\n                        disable-input\r\n                    />\r\n                </template>\r\n            </van-field>\r\n            <van-field\r\n                label=\"支付密码\"\r\n                v-model=\"sellForm.userEnName\"\r\n                placeholder=\"请输入支付密码\"\r\n                :rules=\"[{ required: true, message: '请输入支付密码' }]\"\r\n            />\r\n            <div style=\"margin: 16px;\">\r\n                <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n            </div>\r\n        </van-form>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOTCList, sellOTC, getPersonalBalance, replyOTC } from '@/api';\r\nexport default {\r\n    data:()=>({\r\n        tabs: ['红包卖出','红包买入','通证卖出','通证买入'],\r\n        tabIndex: 0,\r\n        OTCList: [],\r\n        accountList: [],\r\n        sellModalVisible: false,\r\n        sellForm: {\r\n            otcType: 1,\r\n            otcBuyorsale: 1,\r\n            otcNumber: 1,\r\n            otcPrice: 100,\r\n            otcMoney: 1,\r\n            userEnName: ''\r\n        },\r\n    }),\r\n    computed: {\r\n        otcType: function(){\r\n            if(this.tabIndex === 0 || this.tabIndex === 1) return 1;\r\n            else if(this.tabIndex === 2 || this.tabIndex === 3) return 2;\r\n        },\r\n        otcSaleorBuy: function(){\r\n            if(this.tabIndex === 0 || this.tabIndex === 2) return 1;\r\n            else if(this.tabIndex === 1 || this.tabIndex === 3) return 2;\r\n        },\r\n        // 通证余额\r\n        Tongzheng: function(){\r\n            let item = this.accountList.find(v=>v.ptName === '三农通证');\r\n            if(item) return parseFloat(item.acAmt);\r\n            else return 0;\r\n        },\r\n        // 红包余额\r\n        Hongbao: function(){\r\n            let item = this.accountList.find(v=>v.ptName === '红包钱包');\r\n            if(item) return parseFloat(item.acAmt);\r\n            else return 0;\r\n        },\r\n        // 挂卖金额（步进器）最大值\r\n        sellMaxPrice: function(){\r\n            let balanceMax = Math.floor(Math.max(this.Hongbao,this.Tongzheng)/100)*100;\r\n            return Math.max(balanceMax,100);\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getOTCList();\r\n        this.getPersonalBalance();\r\n    },\r\n    methods: {\r\n        getPersonalBalance(){\r\n            getPersonalBalance().then(res=>{\r\n                if (res.code == 0) {\r\n                    this.accountList = res.data;\r\n                } else {\r\n                    this.$toast.fail(res.msg);\r\n                }\r\n            })\r\n        },\r\n        getOTCList(){\r\n            let { otcType, otcSaleorBuy } = this;\r\n            getOTCList({\r\n                otcType,\r\n                otcSaleorBuy,\r\n                state: 0\r\n            }).then(res=>{\r\n                if(res.code === 0){\r\n                    this.OTCList = res.data.list;\r\n                }else{\r\n                    this.$toast.fail(res.msg);\r\n                }\r\n            })\r\n        },\r\n        _tab_change(){\r\n            this.getOTCList();\r\n        },\r\n        /**\r\n         * 检测挂卖金额是否符合最大要求\r\n         * 不大于红包金额和通证金额\r\n         */\r\n        _inspect_sell_price_max(val){\r\n            if(this.sellForm.otcType === 1 && val > this.Hongbao) return false;\r\n            if(this.sellForm.otcType === 2 && val > this.Tongzheng) return false;\r\n            return true;\r\n        },\r\n        _open_sell_modal(){\r\n            this.sellModalVisible = true;\r\n        },\r\n        _submit_sell(){\r\n            sellOTC(this.sellForm).then(res=>{\r\n                if(res.code === 0){\r\n                    this.$toast.success('挂卖成功！');\r\n                    this.getOTCList();\r\n                    this.getPersonalBalance();\r\n                }else{\r\n                    this.$toast.fail(res.msg);\r\n                }\r\n                this.sellModalVisible = false;\r\n            })\r\n        },\r\n        _receive_order(e,otcCode){\r\n            replyOTC({\r\n                otcCode\r\n            }).then(res=>{\r\n                if(res.code === 0){\r\n                    this.$toast.success('接单成功！');\r\n                    this.getOTCList();\r\n                    this.getPersonalBalance();\r\n                }else{\r\n                    this.$toast.fail(res.msg);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .otc-item-field{\r\n        width: 25%;\r\n        height: 50px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./otc.vue?vue&type=template&id=454a34e4&scoped=true&\"\nimport script from \"./otc.vue?vue&type=script&lang=js&\"\nexport * from \"./otc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./otc.vue?vue&type=style&index=0&id=454a34e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"454a34e4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otc.vue?vue&type=style&index=0&id=454a34e4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./otc.vue?vue&type=style&index=0&id=454a34e4&scoped=true&lang=css&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}