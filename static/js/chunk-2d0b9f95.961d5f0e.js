(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9f95"],{"34db":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#fff"}},[a("p",{staticClass:"flex-vertical",staticStyle:{height:"60px",padding:"0 16px","margin-bottom":"16px","font-size":"18px"}},[e._v("修改个人信息")]),a("van-form",{on:{submit:e._submit_edit}},[a("van-field",{attrs:{label:"头像上传"},scopedSlots:e._u([{key:"input",fn:function(){return[a("van-uploader",{attrs:{"max-count":"1","after-read":e._read_file_finised},model:{value:e.headerFileList,callback:function(t){e.headerFileList=t},expression:"headerFileList"}})]},proxy:!0}])}),a("van-field",{attrs:{label:"新手机号",placeholder:"新手机号",rules:[{required:!0,message:"请填写新手机号"}]},model:{value:e.userInfoForm.userMobile,callback:function(t){e.$set(e.userInfoForm,"userMobile",t)},expression:"userInfoForm.userMobile"}}),a("van-field",{attrs:{type:"viewPsw",label:"新密码",placeholder:"新密码",rules:[{required:!0,message:"请填写新密码"}]},model:{value:e.userInfoForm.viewPsw,callback:function(t){e.$set(e.userInfoForm,"viewPsw",t)},expression:"userInfoForm.viewPsw"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},r=[],o=a("01ea"),n=a("365c"),i={data:function(){return{headerFileList:[{url:""}],userInfoForm:{userHeader:"",userMobile:"",viewPsw:"",userName:""}}},mounted:function(){this.getPersonalInfo()},methods:{getPersonalInfo:function(){var e=this;Object(n["Tb"])().then((function(t){0===t.code?(e.headerFileList=[{url:o["a"].host+t.data.userHeader}],e.userInfoForm.userMobile=t.data.userMobile,e.userInfoForm.viewPsw=t.data.viewPsw,e.userInfoForm.userName=t.data.userName):e.$toast.fail(t.msg)}))},_read_file_finised:function(e){var t=this,a=new FormData,s={headers:{"Content-Type":"multipart/form-data"}};a.append("file",e.file),a.append("path",1),Object(n["Oc"])(a,s).then((function(e){0==e.code?t.userInfoForm.userHeader=e.data.filename:t.$toast.fail("图片上传失败！")}))},_submit_edit:function(){var e=this;Object(n["D"])(this.userInfoForm).then((function(t){0===t.code?(e.$toast.success("修改信息成功！"),e.getPersonalInfo()):e.$toast.fail(t.msg)}))}}},l=i,u=a("2877"),f=Object(u["a"])(l,s,r,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0b9f95.961d5f0e.js.map