(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9f95"],{"34db":function(e,r,s){"use strict";s.r(r);var a=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticStyle:{"background-color":"#fff"}},[s("p",{staticClass:"flex-vertical",staticStyle:{height:"60px",padding:"0 16px","margin-bottom":"16px","font-size":"18px"}},[e._v("修改个人信息")]),s("van-form",{on:{submit:e._submit_edit}},[s("van-field",{attrs:{label:"姓名",disabled:""},model:{value:e.userInfoForm.userName,callback:function(r){e.$set(e.userInfoForm,"userName",r)},expression:"userInfoForm.userName"}}),s("van-field",{attrs:{label:"账号",disabled:""},model:{value:e.userInfoForm.viewCode,callback:function(r){e.$set(e.userInfoForm,"viewCode",r)},expression:"userInfoForm.viewCode"}}),s("van-field",{attrs:{label:"头像上传"},scopedSlots:e._u([{key:"input",fn:function(){return[s("van-uploader",{attrs:{"max-count":"1","after-read":e._read_file_finised},model:{value:e.headerFileList,callback:function(r){e.headerFileList=r},expression:"headerFileList"}})]},proxy:!0}])}),s("van-field",{attrs:{label:"新手机号",placeholder:"新手机号",rules:[{required:!0,message:"请填写新手机号"}]},model:{value:e.userInfoForm.userMobile,callback:function(r){e.$set(e.userInfoForm,"userMobile",r)},expression:"userInfoForm.userMobile"}}),s("van-field",{attrs:{type:"viewPsw",label:"新密码",placeholder:"新密码",rules:[{required:!0,message:"请填写新密码"}]},model:{value:e.userInfoForm.viewPsw,callback:function(r){e.$set(e.userInfoForm,"viewPsw",r)},expression:"userInfoForm.viewPsw"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},o=[],t=s("01ea"),n=s("365c"),i={data:function(){return{headerFileList:[{url:""}],userInfoForm:{userHeader:"",userMobile:"",viewPsw:"",userName:"",viewCode:""}}},mounted:function(){this.getPersonalInfo()},methods:{getPersonalInfo:function(){var e=this;Object(n["Ub"])().then((function(r){0===r.code?(e.headerFileList=[{url:t["a"].host+r.data.userHeader}],e.userInfoForm.userMobile=r.data.userMobile,e.userInfoForm.viewPsw=r.data.viewPsw,e.userInfoForm.userName=r.data.userName,e.userInfoForm.viewCode=r.data.viewCode):e.$toast.fail(r.msg)}))},_read_file_finised:function(e){var r=this,s=new FormData,a={headers:{"Content-Type":"multipart/form-data"}};s.append("file",e.file),s.append("path",1),Object(n["Sc"])(s,a).then((function(e){0==e.code?r.userInfoForm.userHeader=e.data.filename:r.$toast.fail("图片上传失败！")}))},_submit_edit:function(){var e=this,r=this.userInfoForm,s=r.userHeader,a=r.userMobile,o=r.viewPsw,t=r.userName;Object(n["E"])({userHeader:s,userMobile:a,viewPsw:o,userName:t}).then((function(r){0===r.code?(e.$toast.success("修改信息成功！"),e.getPersonalInfo()):e.$toast.fail(r.msg)}))}}},u=i,l=s("2877"),d=Object(l["a"])(u,a,o,!1,null,null,null);r["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b9f95.02b219ba.js.map