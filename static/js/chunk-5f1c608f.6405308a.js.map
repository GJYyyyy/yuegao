{"version":3,"sources":["webpack:///./src/views/merchants/classifyManagement.vue?6962","webpack:///./node_modules/vant/es/swipe-cell/style/index.js","webpack:///./src/views/merchants/classifyManagement.vue?a401","webpack:///src/views/merchants/classifyManagement.vue","webpack:///./src/views/merchants/classifyManagement.vue?2a66","webpack:///./src/views/merchants/classifyManagement.vue","webpack:///./node_modules/vant/es/popup/style/index.js","webpack:///./node_modules/vant/es/mixins/click-outside.js","webpack:///./node_modules/vant/es/swipe-cell/index.js","webpack:///./node_modules/vant/es/popup/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","_v","_s","cateName","treeSort","attrs","slot","on","$event","edit","del","add","model","value","callback","$$v","show","expression","type","blur","detail","$set","submit","staticRenderFns","components","data","cateList","name","methods","document","body","scrollTop","Object","assign","duration","forbidClick","id","undefined","loading","clear","res","code","$toast","title","message","loadData","mounted","component","config","props","closeOnClickOutside","Boolean","default","_this","clickOutsideHandler","event","$el","contains","target","method","beforeDestroy","_createNamespace","create","createComponent","bem","THRESHOLD","mixins","onClose","Function","disabled","leftWidth","Number","String","rightWidth","beforeClose","stopPropagation","offset","dragging","computed","computedLeftWidth","getWidthByRef","computedRightWidth","bindTouchEvent","ref","$refs","rect","getBoundingClientRect","width","open","position","opened","$emit","close","onTouchStart","startOffset","touchStart","onTouchMove","touchMove","direction","lockClick","isPrevent","deltaX","onTouchEnd","toggle","setTimeout","Math","abs","threshold","onClick","instance","getClickHandler","stop","_this2","genLeftPart","h","content","slots","genRightPart","arguments","wrapperStyle","transform","transitionDuration","round","closeable","transition","safeAreaInsetBottom","closeIcon","closeIconPosition","overlay","closeOnClickOverlay","beforeCreate","createEmitter","eventName","onOpened","onClosed","_bem","shouldRender","isCenter","transitionName","style","transitionAppear"],"mappings":"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","file":"static/js/chunk-5f1c608f.6405308a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./classifyManagement.vue?vue&type=style&index=0&id=6b4fcba3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./classifyManagement.vue?vue&type=style&index=0&id=6b4fcba3&lang=scss&scoped=true&\"","import '../../style/base.css';\nimport '../index.css';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classifyManagement\"},[_c('div',{staticClass:\"mid mescroll\"},[_c('div',{staticClass:\"list\"},_vm._l((_vm.cateList),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('van-swipe-cell',[_c('div',{staticClass:\"classify\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.cateName))]),_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(item.treeSort))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('template',{slot:\"right\"},[_c('van-button',{attrs:{\"square\":\"\",\"type\":\"primary\",\"text\":\"编辑\"},on:{\"click\":function($event){return _vm.edit(item,index)}}}),_c('van-button',{attrs:{\"square\":\"\",\"type\":\"danger\",\"text\":\"删除\"},on:{\"click\":function($event){return _vm.del(item,index)}}})],1)],2)],1)}),0)]),_c('div',{staticClass:\"bottom\",on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"新增分类\")]),_c('van-popup',{model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"popup\"},[_c('div',{staticClass:\"popup-mid\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.type == '1'?'新增商品分类':'编辑商品分类'))]),_c('van-cell-group',[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"分类名\",\"placeholder\":\"请输入商品分类名称\"},on:{\"blur\":function($event){return _vm.blur()}},model:{value:(_vm.detail.cateName),callback:function ($$v) {_vm.$set(_vm.detail, \"cateName\", $$v)},expression:\"detail.cateName\"}}),_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"type\":\"number\",\"label\":\"排序\",\"placeholder\":\"默认99\"},on:{\"blur\":function($event){return _vm.blur()}},model:{value:(_vm.detail.treeSort),callback:function ($$v) {_vm.$set(_vm.detail, \"treeSort\", $$v)},expression:\"detail.treeSort\"}})],1)],1),_c('div',{staticClass:\"popup-bottom\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"classifyManagement\">\r\n    <div class=\"mid mescroll\">\r\n      <div class=\"list\">\r\n        <div class=\"item\" v-for=\"(item,index) in cateList\" :key=\"index\">\r\n          <van-swipe-cell>\r\n            <div class=\"classify\">\r\n              <div class=\"name\">{{item.cateName}}</div>\r\n              <div class=\"num\">{{item.treeSort}}</div>\r\n              <van-icon name=\"arrow\" />\r\n            </div>\r\n            <template slot=\"right\">\r\n              <van-button square type=\"primary\" text=\"编辑\" @click=\"edit(item,index)\" />\r\n              <van-button square type=\"danger\" text=\"删除\" @click=\"del(item,index)\" />\r\n            </template>\r\n          </van-swipe-cell>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom\" @click=\"add()\">新增分类</div>\r\n    <van-popup v-model=\"show\">\r\n      <div class=\"popup\">\r\n        <div class=\"popup-mid\">\r\n          <p class=\"title\">{{type == '1'?'新增商品分类':'编辑商品分类'}}</p>\r\n          <van-cell-group>\r\n            <van-field v-model=\"detail.cateName\" input-align=\"right\" clearable label=\"分类名\" placeholder=\"请输入商品分类名称\" @blur=\"blur()\" />\r\n            <van-field v-model=\"detail.treeSort\" input-align=\"right\" clearable type=\"number\" label=\"排序\" placeholder=\"默认99\" @blur=\"blur()\" />\r\n          </van-cell-group>\r\n        </div>\r\n        <div class=\"popup-bottom\">\r\n          <div class=\"btn\" @click=\"submit\">提交</div>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { SwipeCell, Button, Popup, CellGroup, Field, Dialog, Icon } from \"vant\";\r\nimport { getShopCateList, editShopCate, delShopCate } from \"@/api\";\r\nexport default {\r\n  components: {\r\n    [SwipeCell.name]: SwipeCell,\r\n    [Button.name]: Button,\r\n    [Popup.name]: Popup,\r\n    [CellGroup.name]: CellGroup,\r\n    [Field.name]: Field,\r\n    [Icon.name]: Icon\r\n  },\r\n  data() {\r\n    return {\r\n      cateList: [],\r\n      index: null,\r\n      show: false,\r\n      name: \"\",\r\n      detail: {\r\n        cateName: \"\",\r\n        treeSort: \"\"\r\n      },\r\n      type: \"1\"\r\n    };\r\n  },\r\n  methods: {\r\n    blur() {\r\n      document.body.scrollTop = 0;\r\n    },\r\n    edit(item, index) {\r\n      this.show = true;\r\n      this.type = \"2\";\r\n      this.detail = Object.assign({}, item);\r\n    },\r\n    submit() {\r\n      if (!this.detail.cateName) {\r\n        this.$toast(\"请输入分类名称\");\r\n        return;\r\n      }\r\n      if (!this.detail.treeSort) {\r\n        this.$toast(\"请输入排序\");\r\n        return;\r\n      }\r\n      const loading = this.$toast.loading({\r\n        duration: 0, // 持续展示 toast\r\n        forbidClick: true // 禁用背景点击\r\n      });\r\n      editShopCate({\r\n        id: this.detail.id || undefined,\r\n        cateName: this.detail.cateName,\r\n        treeSort: this.detail.treeSort\r\n      }).then(res => {\r\n        loading.clear();\r\n        if (res.code == 0) {\r\n          this.show = false;\r\n          this.$toast(this.type == \"1\" ? \"新增成功\" : \"修改成功\");\r\n          this.loadData();\r\n        } else {\r\n          this.$toast(res.msg);\r\n        }\r\n      });\r\n    },\r\n    del(item, index) {\r\n      let that = this;\r\n      Dialog.confirm({\r\n        title: \"标题\",\r\n        message: \"是否确认删除此分类？\"\r\n      })\r\n        .then(() => {\r\n          // on confirm\r\n          const loading = this.$toast.loading({\r\n            duration: 0, // 持续展示 toast\r\n            forbidClick: true // 禁用背景点击\r\n          });\r\n          delShopCate({ id: item.id }).then(res => {\r\n            loading.clear();\r\n            if (res.code == 0) {\r\n              that.$toast(\"删除成功\");\r\n              that.loadData();\r\n            } else {\r\n              that.$toast(res.msg);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        });\r\n    },\r\n    add() {\r\n      this.show = true;\r\n      this.type = \"1\";\r\n      this.detail = {\r\n        cateName: \"\",\r\n        treeSort: \"\"\r\n      };\r\n    },\r\n    loadData() {\r\n      const loading = this.$toast.loading({\r\n        duration: 0, // 持续展示 toast\r\n        forbidClick: true // 禁用背景点击\r\n      });\r\n      getShopCateList().then(res => {\r\n        loading.clear();\r\n        if (res.code == 0) {\r\n          this.cateList = res.data;\r\n        } else {\r\n          this.$toast(res.msg);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    document.title = \"分类管理\";\r\n    this.loadData();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.classifyManagement {\r\n  .mid {\r\n    height: calc(100vh - 50px);\r\n    .list {\r\n      .item {\r\n        background: #fff;\r\n        border-bottom: 1pt solid #efefef;\r\n        .classify {\r\n          padding: 10px;\r\n          display: flex;\r\n          align-items: center;\r\n          line-height: 16px;\r\n          .name {\r\n            flex: 2;\r\n            font-weight: bold;\r\n            line-height: 30px;\r\n          }\r\n          .num {\r\n            flex: 1;\r\n            text-align: right;\r\n            color: #999;\r\n            font-size: 13px;\r\n            margin-right: 5px;\r\n          }\r\n        }\r\n        .van-button {\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .bottom {\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100vw;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    background: $base-color;\r\n    color: #fff;\r\n    text-align: center;\r\n  }\r\n  .van-popup {\r\n    border-radius: 5px;\r\n  }\r\n  .popup {\r\n    background: #fff;\r\n    width: 85vw;\r\n    height: 55vh;\r\n    position: relative;\r\n    &-mid {\r\n      .title {\r\n        line-height: 50px;\r\n        text-align: center;\r\n      }\r\n      .van-cell {\r\n        padding: 10px;\r\n      }\r\n    }\r\n    &-bottom {\r\n      padding: 10px;\r\n      position: absolute;\r\n      width: calc(100% - 20px);\r\n      height: 45px;\r\n      bottom: 0;\r\n      left: 0;\r\n      .btn {\r\n        width: 100%;\r\n        line-height: 45px;\r\n        text-align: center;\r\n        background: #ee0a24;\r\n        color: #fff;\r\n        font-size: 13px;\r\n        border-radius: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./classifyManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./classifyManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./classifyManagement.vue?vue&type=template&id=6b4fcba3&scoped=true&\"\nimport script from \"./classifyManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./classifyManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./classifyManagement.vue?vue&type=style&index=0&id=6b4fcba3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b4fcba3\",\n  null\n  \n)\n\nexport default component.exports","import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../index.css';","/**\n * Listen to click outside event\n */\nimport { on, off } from '../utils/dom/event';\nexport var ClickOutsideMixin = function ClickOutsideMixin(config) {\n  return {\n    props: {\n      closeOnClickOutside: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data: function data() {\n      var _this = this;\n\n      var clickOutsideHandler = function clickOutsideHandler(event) {\n        if (_this.closeOnClickOutside && !_this.$el.contains(event.target)) {\n          _this[config.method]();\n        }\n      };\n\n      return {\n        clickOutsideHandler: clickOutsideHandler\n      };\n    },\n    mounted: function mounted() {\n      on(document, config.event, this.clickOutsideHandler);\n    },\n    beforeDestroy: function beforeDestroy() {\n      off(document, config.event, this.clickOutsideHandler);\n    }\n  };\n};","// Utils\nimport { createNamespace } from '../utils';\nimport { range } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ClickOutsideMixin } from '../mixins/click-outside';\n\nvar _createNamespace = createNamespace('swipe-cell'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nvar THRESHOLD = 0.15;\nexport default createComponent({\n  mixins: [TouchMixin, ClickOutsideMixin({\n    event: 'touchstart',\n    method: 'onClick'\n  })],\n  props: {\n    // @deprecated\n    // should be removed in next major version, use beforeClose instead\n    onClose: Function,\n    disabled: Boolean,\n    leftWidth: [Number, String],\n    rightWidth: [Number, String],\n    beforeClose: Function,\n    stopPropagation: Boolean,\n    name: {\n      type: [Number, String],\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      offset: 0,\n      dragging: false\n    };\n  },\n  computed: {\n    computedLeftWidth: function computedLeftWidth() {\n      return +this.leftWidth || this.getWidthByRef('left');\n    },\n    computedRightWidth: function computedRightWidth() {\n      return +this.rightWidth || this.getWidthByRef('right');\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$el);\n  },\n  methods: {\n    getWidthByRef: function getWidthByRef(ref) {\n      if (this.$refs[ref]) {\n        var rect = this.$refs[ref].getBoundingClientRect();\n        return rect.width;\n      }\n\n      return 0;\n    },\n    // @exposed-api\n    open: function open(position) {\n      var offset = position === 'left' ? this.computedLeftWidth : -this.computedRightWidth;\n      this.opened = true;\n      this.offset = offset;\n      this.$emit('open', {\n        position: position,\n        name: this.name,\n        // @deprecated\n        // should be removed in next major version\n        detail: this.name\n      });\n    },\n    // @exposed-api\n    close: function close(position) {\n      this.offset = 0;\n\n      if (this.opened) {\n        this.opened = false;\n        this.$emit('close', {\n          position: position,\n          name: this.name\n        });\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.startOffset = this.offset;\n      this.touchStart(event);\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      this.touchMove(event);\n\n      if (this.direction === 'horizontal') {\n        this.dragging = true;\n        this.lockClick = true;\n        var isPrevent = !this.opened || this.deltaX * this.startOffset < 0;\n\n        if (isPrevent) {\n          preventDefault(event, this.stopPropagation);\n        }\n\n        this.offset = range(this.deltaX + this.startOffset, -this.computedRightWidth, this.computedLeftWidth);\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      var _this = this;\n\n      if (this.disabled) {\n        return;\n      }\n\n      if (this.dragging) {\n        this.toggle(this.offset > 0 ? 'left' : 'right');\n        this.dragging = false; // compatible with desktop scenario\n\n        setTimeout(function () {\n          _this.lockClick = false;\n        }, 0);\n      }\n    },\n    toggle: function toggle(direction) {\n      var offset = Math.abs(this.offset);\n      var threshold = this.opened ? 1 - THRESHOLD : THRESHOLD;\n      var computedLeftWidth = this.computedLeftWidth,\n          computedRightWidth = this.computedRightWidth;\n\n      if (computedRightWidth && direction === 'right' && offset > computedRightWidth * threshold) {\n        this.open('right');\n      } else if (computedLeftWidth && direction === 'left' && offset > computedLeftWidth * threshold) {\n        this.open('left');\n      } else {\n        this.close();\n      }\n    },\n    onClick: function onClick(position) {\n      if (position === void 0) {\n        position = 'outside';\n      }\n\n      this.$emit('click', position);\n\n      if (this.opened && !this.lockClick) {\n        if (this.beforeClose) {\n          this.beforeClose({\n            position: position,\n            name: this.name,\n            instance: this\n          });\n        } else if (this.onClose) {\n          this.onClose(position, this, {\n            name: this.name\n          });\n        } else {\n          this.close(position);\n        }\n      }\n    },\n    getClickHandler: function getClickHandler(position, stop) {\n      var _this2 = this;\n\n      return function (event) {\n        if (stop) {\n          event.stopPropagation();\n        }\n\n        _this2.onClick(position);\n      };\n    },\n    genLeftPart: function genLeftPart() {\n      var h = this.$createElement;\n      var content = this.slots('left');\n\n      if (content) {\n        return h(\"div\", {\n          \"ref\": \"left\",\n          \"class\": bem('left'),\n          \"on\": {\n            \"click\": this.getClickHandler('left', true)\n          }\n        }, [content]);\n      }\n    },\n    genRightPart: function genRightPart() {\n      var h = this.$createElement;\n      var content = this.slots('right');\n\n      if (content) {\n        return h(\"div\", {\n          \"ref\": \"right\",\n          \"class\": bem('right'),\n          \"on\": {\n            \"click\": this.getClickHandler('right', true)\n          }\n        }, [content]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var wrapperStyle = {\n      transform: \"translate3d(\" + this.offset + \"px, 0, 0)\",\n      transitionDuration: this.dragging ? '0s' : '.6s'\n    };\n    return h(\"div\", {\n      \"class\": bem(),\n      \"on\": {\n        \"click\": this.getClickHandler('cell')\n      }\n    }, [h(\"div\", {\n      \"class\": bem('wrapper'),\n      \"style\": wrapperStyle\n    }, [this.genLeftPart(), this.slots(), this.genRightPart()])]);\n  }\n});","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    round: Boolean,\n    duration: [Number, String],\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var isCenter = position === 'center';\n    var transitionName = this.transition || (isCenter ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if (isDef(duration)) {\n      var key = isCenter ? 'animationDuration' : 'transitionDuration';\n      style[key] = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"appear\": this.transitionAppear,\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(Icon, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.close\n      }\n    })])]);\n  }\n});"],"sourceRoot":""}