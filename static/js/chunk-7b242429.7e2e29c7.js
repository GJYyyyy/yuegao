(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b242429"],{"1a23":function(t,e,i){"use strict";var n=i("d282"),s=i("ea8e"),a=i("2797"),o=i("78eb"),c=i("543e"),r=Object(n["a"])("switch"),l=r[0],u=r[1];e["a"]=l({mixins:[o["a"]],props:a["a"],computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:Object(s["a"])(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(t){if(this.$emit("click",t),!this.disabled&&!this.loading){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("change",e)}},genLoading:function(){var t=this.$createElement;if(this.loading){var e=this.checked?this.activeColor:this.inactiveColor;return t(c["a"],{class:u("loading"),attrs:{color:e}})}}},render:function(){var t=arguments[0],e=this.checked,i=this.loading,n=this.disabled;return t("div",{class:u({on:e,loading:i,disabled:n}),attrs:{role:"switch","aria-checked":String(e)},style:this.style,on:{click:this.onClick}},[t("div",{class:u("node")},[this.genLoading()])])}})},"1b10":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}));var n=44,s={title:String,loading:Boolean,readonly:Boolean,itemHeight:[Number,String],showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,allowHtml:{type:Boolean,default:!0},visibleItemCount:{type:[Number,String],default:6},swipeDuration:{type:[Number,String],default:1e3}}},"263d":function(t,e,i){"use strict";i.r(e);var n,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addAddress mescroll"},[i("div",{staticClass:"list"},[i("div",{staticClass:"item  flex "},[i("van-cell",{attrs:{title:"账户类型",value:t.bcTypeName,"title-class":"label","value-class":"color","is-link":""},on:{click:function(e){t.showBankcard=!0}}})],1),"3"==t.bcTypeValue?i("div",{staticClass:"item flex"},[i("div",{staticClass:"label"},[t._v("开户行")]),i("div",{staticClass:"value flex-2"},[i("van-field",{attrs:{placeholder:"请输入开户行",clearable:""},model:{value:t.bcName,callback:function(e){t.bcName=e},expression:"bcName"}})],1)]):t._e(),i("div",{staticClass:"item flex"},[i("div",{staticClass:"label"},[t._v("账户名")]),i("div",{staticClass:"value flex-2"},[i("div",[i("van-field",{attrs:{placeholder:"请输入收款账户名称",clearable:""},model:{value:t.userBcUsername,callback:function(e){t.userBcUsername=e},expression:"userBcUsername"}})],1)])]),i("div",{staticClass:"item item-center flex"},[i("div",{staticClass:"label"},[t._v("账 号")]),i("div",{staticClass:"value flex-2"},[i("van-field",{attrs:{placeholder:"请输入收款账号",clearable:""},model:{value:t.userBcNumber,callback:function(e){t.userBcNumber=e},expression:"userBcNumber"}})],1)]),i("div",{staticClass:"item item-center flex"},[i("div",{staticClass:"label"},[t._v("收款码")]),i("div",{staticClass:"value flex-2"},[i("van-field",{attrs:{label:""},scopedSlots:t._u([{key:"input",fn:function(){return[i("van-uploader",{attrs:{"max-count":"1","after-read":t._read_file_finised},model:{value:t.headerFileList,callback:function(e){t.headerFileList=e},expression:"headerFileList"}})]},proxy:!0}])})],1)]),i("div",{staticClass:"item item-bottom flex"},[i("div",{staticClass:"label"},[t._v("设为默认地址")]),i("div",{staticClass:"value flex-2"},[i("van-switch",{attrs:{"active-color":"#eb5252","bind:change":"onChange"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)])]),i("div",{staticClass:"btnWrap"},[i("div",{staticClass:"btn",on:{click:t.save}},[t._v("保存")])]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showBankcard,callback:function(e){t.showBankcard=e},expression:"showBankcard"}},[i("div",{staticClass:"popup"},[i("div",{staticClass:"popup-top"},[t._v("账户类型")]),i("div",{staticClass:"popup-mid"},[i("van-radio-group",[i("van-cell-group",t._l(t.bcTypeList,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"left",attrs:{clickable:""},on:{click:function(i){return t.choosePayType(e)}}},[t._v("\n                    "+t._s(e?e.dictLabel:"")+"   \n                ")]),i("div",{staticClass:"right",attrs:{clickable:""},on:{click:function(i){return t.choosePayType(e)}}},[i("van-cell",{scopedSlots:t._u([{key:"right-icon",fn:function(){return[i("van-radio",{attrs:{name:"index"}})]},proxy:!0}],null,!0)})],1)])})),0)],1)],1)])])],1)},a=[],o=i("ade3"),c=(i("3c32"),i("417e")),r=(i("4ddd"),i("9f14")),l=(i("a44c"),i("e27c")),u=(i("c3a6"),i("ad06")),h=(i("5f5f"),i("f253")),d=(i("8a58"),i("e41f")),f=(i("be7f"),i("565f")),m=(i("7f7f"),i("b000"),i("1a23")),b=i("365c"),v={components:(n={},Object(o["a"])(n,m["a"].name,m["a"]),Object(o["a"])(n,f["a"].name,f["a"]),Object(o["a"])(n,d["a"].name,d["a"]),Object(o["a"])(n,h["a"].name,h["a"]),Object(o["a"])(n,u["a"].name,u["a"]),Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,r["a"].name,r["a"]),Object(o["a"])(n,c["a"].name,c["a"]),n),data:function(){return{id:"",bcType:"",bcName:"",userBcUsername:"",userBcNumber:"",checked:!1,showBankcard:!1,bcTypeList:{},bcTypeName:"支付宝",bcTypeValue:"2",bcImg:"",headerFileList:[{url:""}]}},methods:{choosePayType:function(t){var e="";switch(t.dictValue){case"1":e="微信支付";break;case"2":e="支付宝";break;case"3":default:e="银行卡";break}this.bcName=e,this.bcTypeName=t.dictLabel,this.bcTypeValue=t.dictValue,this.bcType=t.dictValue,this.showBankcard=!1},save:function(){var t=this;if(this.bcType)if(this.bcName)if(this.userBcUsername)if(this.userBcNumber){var e=this.$toast.loading({duration:0,forbidClick:!0});Object(b["c"])({bcCode:this.id||void 0,bcType:this.bcType,bcName:this.bcName,userBcUsername:this.userBcUsername,userBcNumber:this.userBcNumber,isDefault:this.checked?1:0,bcSort:1,bcImg:this.bcImg}).then((function(i){e.clear(),0==i.code?(t.$toast(t.id?"修改成功":"新增成功"),setTimeout((function(){t.$router.back()}))):t.$toast(i.msg)}))}else this.$toast("请输入账号");else this.$toast("请输入账户姓");else this.$toast("请输入开户行");else this.$toast("请选择账户类型")},loadData:function(){var t=this,e=this.$toast.loading({duration:0,forbidClick:!0});Object(b["db"])({id:this.$route.query.id}).then((function(i){e.clear(),0==i.code?(t.id=i.data.bcCode,t.bcType=i.data.bcType,t.bcTypeName=i.data.bcTypeName,t.bcTypeValue=i.data.bcType,t.bcName=i.data.bcName,t.userBcUsername=i.data.userBcUsername,t.userBcNumber=i.data.userBcNumber,t.bcImg=i.data.bcImg,t.checked=1==i.data.isDefault,t.headerFileList=[{url:i.data.bcImg?t.$utils.dealImg(i.data.bcImg):""}]):t.$toast(i.msg)}))},loadBctype:function(){var t=this,e=this.$toast.loading({duration:0,forbidClick:!0});Object(b["gb"])().then((function(i){e.clear(),0==i.code?t.bcTypeList=i.data:t.$toast(i.msg)}))},_read_file_finised:function(t){var e=this,i=new FormData,n={headers:{"Content-Type":"multipart/form-data"}};i.append("file",t.file),i.append("path",1),Object(b["hd"])(i,n).then((function(t){0==t.code?e.bcImg=t.data.filename:e.$toast.fail("图片上传失败！")}))}},mounted:function(){document.title=this.$route.query.id?"修改收款账号":"新增收款账号",this.loadBctype(),this.$route.query.id&&this.loadData()}},p=v,g=(i("7f59"),i("c248"),i("2877")),y=Object(g["a"])(p,s,a,!1,null,"f5ce8162",null);e["default"]=y.exports},2797:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}}},3423:function(t,e,i){},"5f5f":function(t,e,i){"use strict";i("68ef"),i("e3b3"),i("a526")},"7f59":function(t,e,i){"use strict";var n=i("bd8e"),s=i.n(n);s.a},a526:function(t,e,i){},b000:function(t,e,i){"use strict";i("68ef"),i("e3b3"),i("d9d2")},bd8e:function(t,e,i){},c248:function(t,e,i){"use strict";var n=i("3423"),s=i.n(n);s.a},d9d2:function(t,e,i){},f253:function(t,e,i){"use strict";var n=i("c31d"),s=i("d282"),a=i("1325"),o=i("b1d2"),c=i("1b10"),r=i("ea8e"),l=i("543e"),u=i("2638"),h=i.n(u),d=i("1128");function f(t){return Array.isArray(t)?t.map((function(t){return f(t)})):"object"===typeof t?Object(d["a"])({},t):t}var m=i("a142"),b=i("482d"),v=i("3875"),p=200,g=300,y=15,C=Object(s["a"])("picker-column"),x=C[0],T=C[1];function I(t){var e=window.getComputedStyle(t),i=e.transform||e.webkitTransform,n=i.slice(7,i.length-1).split(", ")[5];return Number(n)}function k(t){return Object(m["e"])(t)&&t.disabled}var O=x({mixins:[v["a"]],props:{valueKey:String,readonly:Boolean,allowHtml:Boolean,className:String,itemHeight:Number,defaultIndex:Number,swipeDuration:[Number,String],visibleItemCount:[Number,String],initialOptions:{type:Array,default:function(){return[]}}},data:function(){return{offset:0,duration:0,options:f(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},mounted:function(){this.bindTouchEvent(this.$el)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{initialOptions:"setOptions",defaultIndex:function(t){this.setIndex(t)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2}},methods:{setOptions:function(t){JSON.stringify(t)!==JSON.stringify(this.options)&&(this.options=f(t),this.setIndex(this.defaultIndex))},onTouchStart:function(t){if(!this.readonly){if(this.touchStart(t),this.moving){var e=I(this.$refs.wrapper);this.offset=Math.min(0,e-this.baseOffset),this.startOffset=this.offset}else this.startOffset=this.offset;this.duration=0,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset}},onTouchMove:function(t){if(!this.readonly){this.touchMove(t),"vertical"===this.direction&&(this.moving=!0,Object(a["c"])(t,!0)),this.offset=Object(b["b"])(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var e=Date.now();e-this.touchStartTime>g&&(this.touchStartTime=e,this.momentumOffset=this.offset)}},onTouchEnd:function(){var t=this;if(!this.readonly){var e=this.offset-this.momentumOffset,i=Date.now()-this.touchStartTime,n=i<g&&Math.abs(e)>y;if(n)this.momentum(e,i);else{var s=this.getIndexByOffset(this.offset);this.duration=p,this.setIndex(s,!0),setTimeout((function(){t.moving=!1}),0)}}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.moving||this.readonly||(this.transitionEndTrigger=null,this.duration=p,this.setIndex(t,!0))},adjustIndex:function(t){t=Object(b["b"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!k(this.options[e]))return e;for(var i=t-1;i>=0;i--)if(!k(this.options[i]))return i},getOptionText:function(t){return Object(m["e"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){var i=this;t=this.adjustIndex(t)||0;var n=-t*this.itemHeight,s=function(){t!==i.currentIndex&&(i.currentIndex=t,e&&i.$emit("change",t))};this.moving&&n!==this.offset?this.transitionEndTrigger=s:s(),this.offset=n},setValue:function(t){for(var e=this.options,i=0;i<e.length;i++)if(this.getOptionText(e[i])===t)return this.setIndex(i)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return Object(b["b"])(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,e){var i=Math.abs(t/e);t=this.offset+i/.003*(t<0?-1:1);var n=this.getIndexByOffset(t);this.duration=+this.swipeDuration,this.setIndex(n,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)},genOptions:function(){var t=this,e=this.$createElement,i={height:this.itemHeight+"px"};return this.options.map((function(n,s){var a,o=t.getOptionText(n),c=k(n),r={style:i,attrs:{role:"button",tabindex:c?-1:0},class:[T("item",{disabled:c,selected:s===t.currentIndex})],on:{click:function(){t.onClickItem(s)}}},l={class:"van-ellipsis",domProps:(a={},a[t.allowHtml?"innerHTML":"textContent"]=o,a)};return e("li",h()([{},r]),[t.slots("option",n)||e("div",h()([{},l]))])}))}},render:function(){var t=arguments[0],e={transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"all":"none"};return t("div",{class:[T(),this.className]},[t("ul",{ref:"wrapper",style:e,class:T("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.genOptions()])])}}),w=Object(s["a"])("picker"),N=w[0],B=w[1],$=w[2];e["a"]=N({props:Object(n["a"])({},c["b"],{defaultIndex:{type:[Number,String],default:0},columns:{type:Array,default:function(){return[]}},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[],formattedColumns:[]}},computed:{itemPxHeight:function(){return this.itemHeight?Object(r["b"])(this.itemHeight):c["a"]},dataType:function(){var t=this.columns,e=t[0]||{};return e.children?"cascade":e.values?"object":"text"}},watch:{columns:{handler:"format",immediate:!0}},methods:{format:function(){var t=this.columns,e=this.dataType;"text"===e?this.formattedColumns=[{values:t}]:"cascade"===e?this.formatCascade():this.formattedColumns=t},formatCascade:function(){var t=[],e={children:this.columns};while(e&&e.children){var i,n=e,s=n.children,a=null!=(i=e.defaultIndex)?i:+this.defaultIndex;while(s[a]&&s[a].disabled){if(!(a<s.length-1)){a=0;break}a++}t.push({values:e.children,className:e.className,defaultIndex:a}),e=s[a]}this.formattedColumns=t},emit:function(t){var e=this;if("text"===this.dataType)this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0));else{var i=this.getValues();"cascade"===this.dataType&&(i=i.map((function(t){return t[e.valueKey]}))),this.$emit(t,i,this.getIndexes())}},onCascadeChange:function(t){for(var e={children:this.columns},i=this.getIndexes(),n=0;n<=t;n++)e=e.children[i[n]];while(e&&e.children)t++,this.setColumnValues(t,e.children),e=e.children[e.defaultIndex||0]},onChange:function(t){var e=this;if("cascade"===this.dataType&&this.onCascadeChange(t),"text"===this.dataType)this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0));else{var i=this.getValues();"cascade"===this.dataType&&(i=i.map((function(t){return t[e.valueKey]}))),this.$emit("change",this,i,t)}},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var i=this.getColumn(t);i&&(i.setValue(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var i=this.getColumn(t);i&&(i.setIndex(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var i=this.children[t];i&&i.setOptions(e)},getValues:function(){return this.children.map((function(t){return t.getValue()}))},setValues:function(t){var e=this;t.forEach((function(t,i){e.setColumnValue(i,t)}))},getIndexes:function(){return this.children.map((function(t){return t.currentIndex}))},setIndexes:function(t){var e=this;t.forEach((function(t,i){e.setColumnIndex(i,t)}))},confirm:function(){this.children.forEach((function(t){return t.stopMomentum()})),this.emit("confirm")},cancel:function(){this.emit("cancel")},genTitle:function(){var t=this.$createElement,e=this.slots("title");return e||(this.title?t("div",{class:["van-ellipsis",B("title")]},[this.title]):void 0)},genCancel:function(){var t=this.$createElement;return t("button",{attrs:{type:"button"},class:B("cancel"),on:{click:this.cancel}},[this.slots("cancel")||this.cancelButtonText||$("cancel")])},genConfirm:function(){var t=this.$createElement;return t("button",{attrs:{type:"button"},class:B("confirm"),on:{click:this.confirm}},[this.slots("confirm")||this.confirmButtonText||$("confirm")])},genToolbar:function(){var t=this.$createElement;if(this.showToolbar)return t("div",{class:B("toolbar")},[this.slots()||[this.genCancel(),this.genTitle(),this.genConfirm()]])},genColumns:function(){var t=this.$createElement,e=this.itemPxHeight,i=e*this.visibleItemCount,n={height:e+"px"},s={height:i+"px"},c={backgroundSize:"100% "+(i-e)/2+"px"};return t("div",{class:B("columns"),style:s,on:{touchmove:a["c"]}},[this.genColumnItems(),t("div",{class:B("mask"),style:c}),t("div",{class:[o["f"],B("frame")],style:n})])},genColumnItems:function(){var t=this,e=this.$createElement;return this.formattedColumns.map((function(i,n){var s;return e(O,{attrs:{readonly:t.readonly,valueKey:t.valueKey,allowHtml:t.allowHtml,className:i.className,itemHeight:t.itemPxHeight,defaultIndex:null!=(s=i.defaultIndex)?s:+t.defaultIndex,swipeDuration:t.swipeDuration,visibleItemCount:t.visibleItemCount,initialOptions:i.values},scopedSlots:{option:t.$scopedSlots.option},on:{change:function(){t.onChange(n)}}})}))}},render:function(t){return t("div",{class:B()},["top"===this.toolbarPosition?this.genToolbar():t(),this.loading?t(l["a"],{class:B("loading")}):t(),this.slots("columns-top"),this.genColumns(),this.slots("columns-bottom"),"bottom"===this.toolbarPosition?this.genToolbar():t()])}})}}]);
//# sourceMappingURL=chunk-7b242429.7e2e29c7.js.map