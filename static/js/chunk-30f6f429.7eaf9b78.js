(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30f6f429"],{"0bd3":function(t,a){t.exports="data:image/png;base64,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"},"110c":function(t,a,s){"use strict";s.r(a);var e,i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"confirmOrder"},[e("div",{staticClass:"mescroll"},[e("div",{staticClass:"top"},[e("div",{staticClass:"title"},[t._v("确认订单")]),e("div",{staticClass:"address"},[e("div",{staticClass:"label"},[t._v("我的收货地址")]),e("div",{staticClass:"value",on:{click:function(a){return t.$router.push({name:"myAddress",query:{type:1}})}}},[e("img",{staticClass:"icon",attrs:{src:s("4ab3"),alt:""}}),t.address.id?e("div",[e("p",{staticClass:"name"},[t._v("\n            收货人:"+t._s(t.address.userName2)+"\n            "),e("span",[t._v(t._s(t.address.userMobile))])]),e("p",{staticClass:"addr"},[t._v("收货地址:"+t._s((t.address.area.treeNames?t.address.area.treeNames.replace(/\//g,""):"")+t.address.addrAddr))])]):e("div",[e("p",{staticClass:"text"},[t._v("请选择收货地址")])]),e("img",{staticClass:"icon1",attrs:{src:s("0bd3"),alt:""}})])])]),e("div",{staticClass:"mid"},[e("div",{staticClass:"name"},[e("span",[t._v("订单明细")]),e("span",{staticClass:"text"},[t._v("(共"+t._s(t.num)+"个商品)")])]),e("div",{staticClass:"list"},t._l(t.goodList,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"shopName"},[t._v(t._s(a.gname))]),e("div",{staticClass:"num"},[t._v("×"+t._s(a.num))]),e("div",{staticClass:"price"},[t._v("￥"+t._s(a.goutPrice.toFixed(2)))])])})),0),e("div",{staticClass:"allPrice"},[e("span",[t._v("合计:")]),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("￥")]),e("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.allPrice.toFixed(2)))])]),e("div",{staticClass:"remark"},[e("div",{staticClass:"text"},[t._v("备注：")]),e("div",{staticClass:"value"},[e("van-field",{attrs:{rows:"2",type:"textarea",maxlength:"30",placeholder:"可备注信息，如几点取餐，偏爱口味等","show-word-limit":""},on:{blur:function(a){return t.blur()}},model:{value:t.remark,callback:function(a){t.remark=a},expression:"remark"}})],1)])])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"allPrice"},[e("span",[t._v("合计:")]),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("￥")]),e("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.allPrice.toFixed(2)))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"btn",on:{click:t.submit}},[t._v("提交订单")])])])]),e("van-popup",{model:{value:t.popupShow,callback:function(a){t.popupShow=a},expression:"popupShow"}},[e("div",{staticClass:"popup_wrap"},[e("div",{staticClass:"popup_icon",on:{click:function(a){t.popupShow=!1}}},[e("img",{attrs:{src:s("32d7")}})]),e("div",{staticClass:"popup_content"},[e("div",{staticClass:"title"},[t._v("\n          支付\n          "),e("span",[t._v(t._s(t.text)+"！")])]),e("div",{staticClass:"text"},[t._v("您可以在15分钟内前往我的订单进行支付，超过时长的订单将失效")])]),e("div",{staticClass:"popup_btns"},[e("div",{staticClass:"popup_btn",on:{click:t.cancel}},[t._v("取消")]),e("div",{staticClass:"popup_btn go",on:{click:t.go}},[t._v("立即前往")])])])])],1)},o=[],d=(s("a481"),s("ade3")),r=(s("be7f"),s("565f")),n=(s("7f7f"),s("8a58"),s("e41f")),c=s("365c"),C={components:(e={},Object(d["a"])(e,n["a"].name,n["a"]),Object(d["a"])(e,r["a"].name,r["a"]),e),data:function(){return{address:{},goodList:[],num:0,allPrice:0,remark:"",popupShow:!1,text:"失败"}},methods:{blur:function(){document.body.scrollTop=0},submit:function(){var t=this;if(this.address.id){var a=this.$toast.loading({duration:0,forbidClick:!0}),s=[];this.goodList.map((function(t){s.push({gcode:t.id,gorderCount:t.num})})),Object(c["Lc"])({shopCode:this.$route.query.shopCode,addressId:this.address.id,payType:"1",orderDetailParamsList:s,remarks:this.remark}).then((function(s){a.clear(),0==s.code?(t.orderId=s.data.orderId,s.data.appId?t.weChatPay(s.data.appId,s.data.timeStamp,s.data.nonceStr,s.data.package,s.data.signType,s.data.paySign,s.data.orderId,s.data.orderNo,s.data.oorderWdate):t.$router.replace({name:"payResult",query:{orderId:s.data.orderId,orderNo:s.data.orderNo,payPrice:t.allPrice,payTime:s.data.oorderWdate}})):t.$toast(s.msg)}))}else this.$toast("请选择地址")},weChatPay:function(t,a,s,e,i,o,d,r,n){var c=this;function C(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:a,nonceStr:s,package:e,signType:i,paySign:o},(function(t){console.log(t),"get_brand_wcpay_request:ok"==t.err_msg?(c.$toast("支付成功","middle"),setTimeout((function(){c.$router.replace({name:"payResult",query:{orderId:d,orderNo:r,payPrice:c.allPrice,payTime:n}})}),500)):"get_brand_wcpay_request:cancel"==t.err_msg?(c.show=!1,c.popupShow=!0,c.text="取消",console.log("支付取消")):"get_brand_wcpay_request:fail"==t.err_msg&&(c.show=!1,c.popupShow=!0,c.text="失败")}))}"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",C,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",C),document.attachEvent("onWeixinJSBridgeReady",C)):C()},cancel:function(){this.$router.back()},go:function(){this.$router.replace({name:"orderDetail",query:{id:this.orderId}})},loadData:function(){var t=this;if(sessionStorage.getItem("address"))this.address=JSON.parse(sessionStorage.getItem("address"));else{var a=this.$toast.loading({duration:0,forbidClick:!0});Object(c["W"])({pageNum:1,pageSize:10}).then((function(s){a.clear(),0==s.code?t.address=s.data.list.length?s.data.list[0]:{}:t.$toast.fail(s.msg)}))}this.goodList=JSON.parse(sessionStorage.getItem("goodsList")),this.goodList.map((function(a){t.num+=a.num,t.allPrice+=a.num*a.goutPrice}))}},mounted:function(){this.loadData()}},g=C,p=(s("df2f"),s("2877")),A=Object(p["a"])(g,i,o,!1,null,"09e88bd4",null);a["default"]=A.exports},"32d7":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAABGdBTUEAALGPC/xhBQAABLxJREFUSA2tlktvW1UQx3Nv2pQ4CQ5QkjgUkEBCBISAHft8ADaNxENFQqqah7GhLq1LCZGb4iaGyhExcRIWCBUhEFvEtgvgA6CuugCECJDQLHAIdWPnYX7/yzmXe/0gEeJI4zNn5j8z58yZM75tmUzmUJsZS0tLL3ns8vJyDXpBC9coX2T+xOMXFxdPGGGbkJYPzzhb8CRArlombzGOGBmPjo56vNaYvO44zqB4fwiE4mNfIAbhWYTvW6FAHo/wZSsMzgAiOskQgEt1Cu2h7MlA5aDzWvgu69Az9QqbIOFkmQVwKmgUckX8yzaEI1fBBMgKwCxJuO7oKDAf1mq1d8fGxs6FXNYt5BXsG2BP+OnE+zS4t6B3iJIO2qCTfBqDGZxfkM43tECzzxmBkP1EhEXmLM4mLUZzg6GEbGkMg6L0e3t7l8fHx9+UPDiCqZPBpBIC4D4iuCYxP0oGaQf+8CIa4fngGXyEYXCaZhezYLwkOvl8vpNxnO2ES6re8h8Hz1er1S/bqPpXWmAaxDwql92No3Bcwl9hUVHkBmRAACYyMDCwwVbnEHe63Esni1pXV1cJj3cEsD4rp0B+Q3CYbUaZy8pqTQsUW3hcn5ub6/UtYIgUjUQiP8DugetLJpMV6b3r0EJCtl0jUSu5XK5HSm0Phzdgu9HfD+4PyTVCBSCD3t5eAQ/v7u4+47ruFzi7h/XT3OmqDOwIGUoo42g0+h0GfSw3oKF6I+FClSMBEXcxWhfP2CDy1t9s+DdkaM70DZBj1Ogw53Pa29u/Jqt3h80CEXUVAL8n2iOAhqikaxg/Cd/HVd2Yn5+/M2jsnRHhEYZSHt3Z2RmKx+MrFlQoFAY7Ojq+Zb1TqVQetZl1VUYY6UxHUQwGjWScSCR+LZVKD7ObHnA/2yJxY7FYCf0RSJfr3xNrf6TT6U2OcExnpkhUQRGXxbnV1dUoKVfqWw7pKYKjAFLQbUevg4su4KCC1ysA1F9a/De09NugUAr6+/un8K1APST6FAn/1BkZGWkfHh7OIDxLQB21SvD31tbWpjBqevdgWg49JN6ENp3AX7cOAp8vl8uXUqnUll+pSjL5mkaZNIE3TeDsQQKbQHFsdaKYyZj65MVg2v2AKLyhwFysWvVrUA+Gf+KkSGVkm12yihvcGXAT4AaEZ13g3mab4RsCAvaG2gWMAqujqRvoEc8TuChH5hU9SxD9ST1lAl3lCc7Wlyx6f7QMaBGmk8RxeBrnfcw3ma+hfwJ6HFKV6itggdRpU/869g1orYvF4kNU3NsEew6ZZ0fwr6CLeu4Wt9+8b0CbOhxNEuwxZvX/6/APwj8AvwJloc8nJiZ+/88B1ZToMUkcqPJUDDfhP4AvKnWc+C7445z6VeRK7ToYfXwUOPEvrJuOhhOaKk1gmFIgrG7BfwSv74aGO1JgguoNnwR7L6R+l7fFBR8afkC9I9rtFNo4pKrcpDsUtre3c83KO+SFhfmn0dPQiWOyZ6NLZqN++3M40SHenT5ezkAKVIUW2GHmIIHAhoa5Cj0nXUU3s9dA4GfI0G19FeqdFdmN14JoadMH6SyhKE0W+g+iBi4Q6DRqNZCTfGN8ppSKuiA17FvQ/z3UifTXW4ZqfwFk0X+reuWKTwAAAABJRU5ErkJggg=="},"4ab3":function(t,a,s){t.exports=s.p+"static/img/address1.ecc671fc.png"},df2f:function(t,a,s){"use strict";var e=s("fcac"),i=s.n(e);i.a},fcac:function(t,a,s){}}]);
//# sourceMappingURL=chunk-30f6f429.7eaf9b78.js.map