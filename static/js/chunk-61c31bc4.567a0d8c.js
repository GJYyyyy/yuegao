(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61c31bc4"],{"3b59":function(e,t,s){},"55f9":function(e,t,s){e.exports=s.p+"static/img/logo@3x.6a3d0a7a.png"},"7a94":function(e,t,s){"use strict";var a=s("3b59"),o=s.n(a);o.a},b5aa:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%","box-sizing":"border-box","padding-top":"120px","background-color":"#2ba06a"}},[e._m(0),s("div",{staticClass:"flex-center flex-column",staticStyle:{"margin-top":"16px"}},[s("div",{staticStyle:{position:"relative"}},[s("div",{staticClass:"form-field flex-between flex-vertical",staticStyle:{width:"287px","margin-bottom":"16px"}},[s("van-icon",{attrs:{name:"manager",color:"#fff",size:"14"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{placeholder:"用户名"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})],1)]),s("div",{staticClass:"form-field flex-between flex-vertical",staticStyle:{width:"287px","margin-bottom":"16px"}},[s("van-icon",{attrs:{name:"bell",color:"#fff",size:"14"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})],1)]),s("div",{staticStyle:{"text-align":"center","margin-bottom":"16px"}},[s("van-button",{attrs:{plain:"",hairline:"",color:"#253238",round:""},on:{click:e._login}},[e._v("登录")])],1),s("div",{staticStyle:{"margin-left":"45px"}},[s("router-link",{staticStyle:{color:"#fff","font-size":"12px"},attrs:{to:"/register"}},[e._v("还没有账号？")])],1)])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outer_label"},[a("img",{staticClass:"inner_label login_logo",attrs:{src:s("55f9")}}),a("p",{staticClass:"flex-horizontal",staticStyle:{color:"#fff","margin-top":"10px","font-size":"18px"}},[e._v("泰瑞5G智慧农业")])])}],r=s("365c"),i={name:"",data:function(){return{userName:"",password:"",isBtnLoading:!1}},computed:{btnText:function(){return this.isBtnLoading?"登录中...":"登录"}},created:function(){this.checkLogin()},mounted:function(){document.title="登录",this.fillRemberUser()},methods:{checkLogin:function(){var e=this,t=sessionStorage.getItem("token")||localStorage.getItem("token");t&&(sessionStorage.setItem("token",t),Object(r["Tb"])().then((function(t){if(0==t.code){sessionStorage.setItem("userId",t.data.userCode),sessionStorage.setItem("userShop",t.data.userShop),sessionStorage.setItem("shopCode",t.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(t.data.userHeader)),sessionStorage.setItem("userName",t.data.userName),sessionStorage.setItem("userName2",t.data.userName2||""),sessionStorage.setItem("userMobile2",t.data.userMobile2||"");var s=sessionStorage.getItem("hash")||"/";e.$router.push(s)}})))},fillRemberUser:function(){var e=localStorage.getItem("myLoginUserName"),t=localStorage.getItem("myLoginPassword");null!==e&&null!==t&&(this.userName=e,this.password=t)},_login:function(){var e=this;this.userName?this.password?Object(r["qc"])({account_number:this.userName,code:this.password,isCookie:!0,openid:""}).then((function(t){0===t.code?(localStorage.setItem("token",t.data.token),sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("userId",t.data.userCode),sessionStorage.setItem("userShop",t.data.userShop),sessionStorage.setItem("shopCode",t.data.shopCode),sessionStorage.setItem("headimgurl",e.$utils.dealImg(t.data.userHeader)),sessionStorage.setItem("userName",t.data.userName),sessionStorage.setItem("userName2",t.data.userName2||""),sessionStorage.setItem("userMobile2",t.data.userMobile2||""),localStorage.setItem("myLoginUserName",e.userName),localStorage.setItem("myLoginPassword",e.password),e.$router.push("/"),e.$toast.success(t.msg)):e.$toast.fail(t.msg)})):this.$toast.fail("请输入密码"):this.$toast.fail("请输入用户名")}}},n=i,l=(s("7a94"),s("2877")),m=Object(l["a"])(n,a,o,!1,null,"6795f4b8",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-61c31bc4.567a0d8c.js.map